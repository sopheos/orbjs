{"version":3,"sources":["../../../src/geo/points.ts"],"names":["Points","point","points","push","length","Point","minlat","maxlat","minlon","maxlon","i","forEach","getLat","getLon","bounds","lat","lon","center","min","item","d","distanceTo"],"mappings":"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","sourcesContent":["import { Point } from \"./point\"\n\n/**\n * Points\n */\nexport class Points {\n\n    private points: Point[] = [];\n\n    public add(point: Point): Points {\n        this.points.push(point);\n        return this;\n    }\n\n    public all(): Point[] {\n        return this.points;\n    }\n\n    public bounds(): Point[] {\n        if (!this.points.length) return [new Point(-180, -180), new Point(180, 180)];\n\n        let minlat = 0;\n        let maxlat = 0;\n        let minlon = 0;\n        let maxlon = 0;\n        let i = 0;\n\n        this.points.forEach((point: Point) => {\n            if (i === 0) {\n                minlat = point.getLat();\n                maxlat = point.getLat();\n                minlon = point.getLon();\n                maxlon = point.getLon();\n            } else {\n                if (minlat > point.getLat()) minlat = point.getLat();\n                if (maxlat < point.getLat()) maxlat = point.getLat();\n                if (minlon > point.getLon()) minlon = point.getLon();\n                if (maxlon < point.getLon()) maxlon = point.getLon();\n            }\n\n            i++;\n        });\n\n        return [new Point(minlat, minlon), new Point(maxlat, maxlon)];\n    }\n\n    public center(): Point {\n        if (!this.points.length) return new Point();\n        let bounds = this.bounds();\n        let lat = (bounds[0].getLat() + bounds[1].getLat()) / 2;\n        let lon = (bounds[0].getLon() + bounds[1].getLon()) / 2;\n        return new Point(lat, lon);\n    }\n\n    public closer(): Point {\n\n        if (!this.points.length) return new Point();\n\n        let center: Point = this.center();\n        let min: number | null = null;\n        let item: Point = new Point();;\n\n        this.points.forEach((point: Point) => {\n            let d = center.distanceTo(point);\n\n            if (min === null || min > d) {\n                min = d;\n                item = point;\n            }\n        });\n\n        return item;\n    }\n}"],"file":"points.js"}
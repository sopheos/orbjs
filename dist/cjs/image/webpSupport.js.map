{"version":3,"sources":["../../../src/image/webpSupport.ts"],"names":["isWebpSupported","Promise","resolve","img","Image","onload","width","height","onerror","src","isWebpConversionSupported","canvas","document","createElement","toDataURL","match"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACO,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,GAAwB;AACrD,SAAO,IAAIC,OAAJ,CAAqB,UAACC,OAAD,EAAa;AACvC,QAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;;AACAD,IAAAA,GAAG,CAACE,MAAJ,GAAa;AAAA,aAAMH,OAAO,CAACC,GAAG,CAACG,KAAJ,KAAc,CAAd,IAAmBH,GAAG,CAACI,MAAJ,KAAe,CAAnC,CAAb;AAAA,KAAb;;AACAJ,IAAAA,GAAG,CAACK,OAAJ,GAAc;AAAA,aAAMN,OAAO,CAAC,KAAD,CAAb;AAAA,KAAd;;AACAC,IAAAA,GAAG,CAACM,GAAJ,GAAU,yGAAV;AACD,GALM,CAAP;AAMD,CAPM;AASL;AACF;AACA;AACA;;;;;AACS,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAe;AACtD,MAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACAF,EAAAA,MAAM,CAACL,KAAP,GAAe,CAAf;AACAK,EAAAA,MAAM,CAACJ,MAAP,GAAgB,CAAhB;AACA,SAAOI,MAAM,CAACG,SAAP,CAAiB,YAAjB,EAA+BC,KAA/B,CAAqC,YAArC,MAAuD,IAA9D;AACD,CALM","sourcesContent":["/**\n * Determines if webp is supported by the browser\n * @returns a promise resolving to a boolean to know if webp is supported\n */\nexport const isWebpSupported = (): Promise<Boolean> => {\n  return new Promise<Boolean>((resolve) => {\n    const img = new Image();\n    img.onload = () => resolve(img.width === 2 && img.height === 1);\n    img.onerror = () => resolve(false);\n    img.src = \"data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA==\";\n  });\n}\n\n  /**\n   * Determines if webp conversion with canvas is supported by the browser\n   * @returns a boolean to know if webp conversion is supported\n   */\n  export const isWebpConversionSupported = (): Boolean => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    return canvas.toDataURL('image/webp').match('image/webp') !== null;\n  }"],"file":"webpSupport.js"}
{"version":3,"sources":["../../../src/es/query.ts"],"names":["Query","key","value","data","set","agg","values","toJSON","i"],"mappings":";;;;;;;;;;;;;;;IACaA,K;;;gDAEW,E;;;;;WAMpB,aAAWC,GAAX,EAAwBC,KAAxB,EAA0C;AACtC,WAAKC,IAAL,CAAUF,GAAV,IAAiBC,KAAjB;AACA,aAAO,IAAP;AACH;;;WAED,gBAAsC;AAAA,UAA1BA,KAA0B,uEAAV,EAAU;AAClC,aAAO,KAAKE,GAAL,CAAS,MAAT,EAAiBF,KAAjB,CAAP;AACH;;;WAED,gBAAqC;AAAA,UAAzBA,KAAyB,uEAAT,CAAS;AACjC,aAAO,KAAKE,GAAL,CAAS,MAAT,EAAiBF,KAAjB,CAAP;AACH;;;WAED,eAAaA,KAAb,EAA+B;AAC3B,aAAO,KAAKE,GAAL,CAAS,OAAT,EAAkBF,KAAlB,CAAP;AACH;;;WAED,4BAAgC;AAC5B,aAAO,KAAKE,GAAL,CAAS,WAAT,EAAsB,SAAtB,CAAP;AACH;;;WAED,cAAYC,GAAZ,EAA4B;AAExB,UAAIC,MAAM,GAAGD,GAAG,CAACE,MAAJ,EAAb;AACA,UAAI,CAAC,KAAKJ,IAAL,CAAU,MAAV,CAAL,EAAwB,KAAKA,IAAL,CAAU,MAAV,IAAoB,EAApB;;AACxB,WAAK,IAAIK,CAAT,IAAcF,MAAd;AAAsB,aAAKH,IAAL,CAAU,MAAV,EAAkBK,CAAlB,IAAuBF,MAAM,CAACE,CAAD,CAA7B;AAAtB;;AAEA,aAAO,IAAP;AACH;;;WAED,cAAYN,KAAZ,EAA8B;AAC1B,aAAO,KAAKE,GAAL,CAAS,MAAT,EAAiBF,KAAjB,CAAP;AACH;;;WAED,kBAAgB;AACZ,aAAO,KAAKC,IAAZ;AACH;;;WAxCD,gBAA4B;AACxB,aAAO,IAAIH,KAAJ,EAAP;AACH","sourcesContent":["\nexport class Query {\n\n    private data: any = {};\n\n    public static make(): Query {\n        return new Query();\n    }\n\n    public set(key: string, value: any): this {\n        this.data[key] = value;\n        return this;\n    }\n\n    public size(value: number = 10): this {\n        return this.set('size', value);\n    }\n\n    public from(value: number = 0): this {\n        return this.set('from', value);\n    }\n\n    public query(value: any): this {\n        return this.set('query', value);\n    }\n\n    public conflictsProceed(): this {\n        return this.set('conflicts', 'proceed');\n    }\n\n    public aggs(agg: any): this {\n\n        let values = agg.toJSON();\n        if (!this.data['aggs']) this.data['aggs'] = {};\n        for (let i in values) this.data['aggs'][i] = values[i];\n\n        return this;\n    }\n\n    public sort(value: any): this {\n        return this.set('sort', value);\n    }\n\n    public toJSON() {\n        return this.data;\n    }\n\n}"],"file":"query.js"}